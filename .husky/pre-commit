#!/bin/bash

# Allowed branch name pattern
BRANCH_REGEX="^(feature|fix|chore|docs|test|refactoring|poc|perf|ci)\/[a-z0-9-]+$"

# Get the current branch name
BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)

if ! echo "$BRANCH_NAME" | grep -Eq "$BRANCH_REGEX"; then
  echo "âŒ Error: The branch name '$BRANCH_NAME' does not follow the naming convention."
  echo "ğŸ”¹ Expected format: <prefix>/branch-name"
  echo "ğŸ”¹ Examples of valid branch names:"
  echo "   - feature/user-authentication"
  echo "   - fix/navbar-alignment"
  echo "   - docs/project-guidelines"
  echo "ğŸš€ Allowed prefixes: feature, fix, hotfix, docs, test, refactoring, chore, poc"
  exit 1
fi

echo "âœ… Branch name is valid!"
exit 0
